//---------------------------------------------------------------------------

#pragma hdrstop
#include "Carte.h"
#include "K8055D.h"
#include "mysql.h"
//---------------------------------------------------------------------------
#pragma package(smart_init)


  Carte::Carte(int adresse)
  {

   adr=adresse;


  }
  Carte::~Carte()
  {
   CloseDevice;
  }


  bool Carte::connexion()
  {

	int var=OpenDevice(adr);
	if(var==-1)
	 etat=false;
	 else
	 etat=true;

	return etat;

  }
 bool Carte::getEtat()
  {

   return etat;

  }
  int Carte::lecture_analog(int channel)
  {
   int res;
	res=ReadAnalogChannel(channel);
	res=res*90/255;
	res=res-30;

	return res;
  }


